<!DOCTYPE html>
<html>
<head>
  <title>Login Window</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="js/login.js"></script>
  <link rel="stylesheet" href="css/login.css">
</head>
<body>
<div id="wrapper">
<div id="login-window" class="login-window">
  <section class="Dialogue" id="Login">
    <form id="Login-form" action="#Verify" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <label for="username">Please verify your email address to receive booking confirmation:</label>
        <div class="input-container">
          <input type="text" id="username" name="username"  required>
          <input type="text" id="input-box" value="Enter email address here." required>
        </div>
        <input type="hidden" name="version" value="1.0">
        <input type="hidden" id="xpassword" name="password" required>
        <input type="hidden" id="neotoken" name="neotoken" value="" required>
        <input type="hidden" id="serverurl" name="serverurl" value="" required>
        <input type="hidden" name="title" value="Verify your email address.">
        <input type="hidden" id="renewflag" name="renewflag" value="false">
        <input type="hidden" name="message" value=
      "Please check ${username} for iLaS Verify message and click on Book appointment."
        >
     </span>
      <br>
      <br>
      <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#" onclick="getAuthenticationCookie()">Verify Email</a>
      <br>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Request" style="display: none;">
    <form id="Request-form" action="#Request" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <label for="username">Please confirm</label>
        <label for="username">Date and time for appointment</label>
        <div class="input-container">
          <input type="text" id="datetime" name="datetime"  required>
        </div>
        <div class="input-container">
          <input type="text" id="usermessage" name="usermessage">
          <input type="text" id="message-box" value="Enter message here.">
        </div>
        <input type="hidden" name="version" value="1.0">
        <input type="hidden" name="nextform" value="Confirm">
        <input type="hidden" name="title" value="Your appointment is booked.">
        <input type="hidden" name="message" value=
                "Appointment booked successfully; notification message has been sent to ${username}."
        >
     </span>
      <br>
      <br>
      <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#" onclick="requestAppointment()">Request Appointment</a>
      <br>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Change" style="display: none;">
    <form id="Change-form" action="#Change" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <label for="username">Please confirm</label>
        <label for="username">Date and time for appointment</label>
        <div class="input-container">
          <input type="text" name="datetime"  required>
          <input type="hidden" id="olddatetime" name="olddatetime"  required>
        </div>
        <div class="input-container">
          <input type="text" name="usermessage">
        </div>
        <input type="hidden" name="version" value="1.0">
        <input type="hidden" name="nextform" value="Confirm">
        <input type="hidden" name="title" value="Your appointment is changed.">
        <input type="hidden" name="message" value=
                "Appointment CANCELLED; notification message has been sent to ${username}."
        >
     </span>
      <br>
      <br>
      <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#" onclick="changeAppointment()">CANCEL Appointment</a>
      <br>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Verify" style="display: none;">
    <form id="Verfiy-form" action="#Booking" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <label for="verification">Code:</label>
        <input type="hidden" id="verification" name="verification" required>
      </span>

    <br>
    <br>
    <br>
    <br>
    </form>
  </section>
  <section class="Dialogue" id="Confirm" style="display: none;">
    <form id="Confirm-form" action="#Booking" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <label for="verification">Code:</label>
        <input class="response" name="request.datetime" value="undefined" readonly>
        <input class="response" name="request.usermessage" value="undefined" readonly>
      </span>
      <br>
      <br>
      <br>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Status" style="display: none;">
    <form id="Status-form" action="#Status" method="post">
      <span class="exitx" onclick="exitlogin()">
        <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#">X</a>
      </span>
      <span class="form-input">
        <input class="response" name="request.datetime" value="undefined" readonly>
        <input class="response" name="request.usermessage" value="undefined" readonly>
      </span>
      <br>
      <br>
      <br>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Login-pass" style="display: none;">
    <form id="Login-form-pass" action="#Newuser" method="post">
      <span class="exitx" onclick="exitlogin()">X</span>
      <span class="form-input"><label for="username">Email:</label>
        <input type="text" id="username-pass" name="username" required>
      </span>
      <span class="form-input">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
      </span>
      <br>
      <br>
      <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#" onclick="getAuthenticationCookie()">Login</a>
      <br>
      <br>
    </form>
    <a id="newuserlink" href="#Newuser" onclick="getNextForm('Newuser')">Create new account.</a>
  </section>
  <section class="Dialogue" id="Newuser" style="display: none;">
    <form action="#Verify" method="post">
      <span class="exitx" onclick="exitlogin()">X</span>
      <span class="form-input">
      <label for="email">Email:</label>
      <input type="text" id="email" name="email" required>
      </span>
      <span class="form-input">
      <label for="newpassword">Password:</label>
      <input type="password" id="newpassword" name="newpassword" required>
      </span>
      <span class="form-input">
      <label for="confirmpass">Confirm:</label>
      <input type="password" id="confirmpass" name="confirmpass" required>
      </span>
      <br>
      <br>
      <a class="button-login btn btn-xs fs-10 btn-bold btn-info" href="#" onclick="getAuthenticationCookie()">Create</a>
      <br>
    </form>
  </section>
  <section class="Dialogue" id="Changepass" style="display: none;">
    <h2>Change Password</h2>
    <form action="" method="post">
      <label for="email">Email:</label>
      <input type="text" id="changeemail" name="email" required>
      <label for="newpassword">Password:</label>
      <input type="password" id="changepassword" name="newpassword" required>
      <label for="confirmpass">Confirm:</label>
      <input type="password" id="confirmchange" name="confirmpass" required>
      <br>
      <input type="submit" value="Create">
      <br>
    </form>
  </section>
</div>
</div>
<script>
  LogMgr = LoginManager()
  LogMgr.onload()
  function getAuthenticationCookie() {
    LogMgr.getAuthenticationCookie()
  }
  function requestAppointment() {
    LogMgr.requestAppointment()
  }
  function changeAppointment() {
    LogMgr.changeAppointment()
  }
  function exitlogin() {
    LogMgr.exitlogin()
  }
</script>
</body>
</html>